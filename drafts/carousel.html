<!-- HTML -->

<!-- Carousel -->
<div id="myCarousel" class="carousel slide carousel-fade px-4" data-bs-ride="carousel" data-bs-pause="false"
  data-bs-touch="true">
  <!--
    data-bs-pause="false": Карусель не останавливается при наведении мыши;
    data-bs-touch="true": Поддержка смахивания на сенсорных экранах.
-->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true"
      aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
    <!-- Добавление 4-го слайда
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
        -->
  </div>
  <div class="carousel-inner">
    <!-- Слайд 1 -->
    <div class="carousel-item active" data-bs-interval="8000">
      <img src="images/carousel/darkscreen.svg" class="d-block w-100 h-100 object-fit-cover" alt="...">
      <!-- Добавить видео вместо изображения
            <video class="d-block w-100 h-100 object-fit-cover" autoplay loop muted playsinline preload="auto">
                <source src="images/carousel/..." type="video/mp4">
            </video>
            -->
      <div class="container">
        <div class="carousel-caption text-white">
          <h1>Шифры</h1>
          <p class="opacity-75">Команда программирования и экспертов по информационной безопасности</p>
          <!-- <p><a class="btn btn-lg btn-light" href="#">О нас</a></p> -->
        </div>
      </div>
    </div>
    <!-- Слайд 2 -->
    <div class="carousel-item" data-bs-interval="8000">
      <img src="images/carousel/darkscreen.svg" class="d-block w-100 h-100 object-fit-cover" alt="...">
      <div class="container">
        <div class="carousel-caption text-white text-start">
          <!-- <h1>О компании</h1> -->
          <p class="opacity-75">Смеемся над вашей кибербезопасностью с 2011 года</p>
          <!-- <p><a class="btn btn-lg btn-light" href="#">О нас</a></p> -->
        </div>
      </div>
    </div>
    <!-- Слайд 3 -->
    <div class="carousel-item" data-bs-interval="8000">
      <img src="images/carousel/darkscreen.svg" class="d-block w-100 h-100 object-fit-cover" alt="...">
      <div class="container">
        <div class="carousel-caption text-white text-end">
          <!-- <h1>Код успеха</h1> -->
          <p class="opacity-75">Самый лучший антивирус - <br> это хакер!</p>
          <!-- <p><a class="btn btn-lg btn-light" href="#">Проекты</a></p> -->
        </div>
      </div>
    </div>
    <!-- Слайд 4
        <div class="carousel-item" data-bs-interval="8000">
            <img src="images/carousel/darkscreen.svg" class="d-block w-100 h-100 object-fit-cover" alt="...">
            <div class="container">
                <div class="carousel-caption text-white">
                    <h1>Цифровой щит</h1>
                    <p class="opacity-75">Консультации по созданию непроницаемого цифрового пространства для клиентов</p>
                    <p><a class="btn btn-lg btn-light" href="#">Browse gallery</a></p>
                </div>
            </div>
        </div>
        -->
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Предыдущий</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Следующий</span>
  </button>
</div>


<!-- CSS -->

<style>
  /* НАСТРОЙКА КАРУСЕЛИ
    -------------------------------------------------- */

  /* Позиционирование подписи */
  .carousel-caption {
    bottom: 3rem;
    /* Позиция от низа */
    z-index: 10;
    /* Индекс слоя */
  }

  /* фиксированная высота для каждого слайда */
  .carousel-item {
    height: 36rem;
    /* Высота элемента */
  }

  /* Размер текста в подписях карусели
    -------------------------------------------------- */
  @media (min-width: 40em) {

    /* Увеличить размер содержимого карусели */
    .carousel-caption p {
      margin-bottom: 1.25rem;
      font-size: 1.25rem;
      line-height: 1.4;
    }
  }
</style>


<!-- JAVASCRIPT -->

<script src="path/to/carouselControl.js"></script>
<script>
  // КОНТРОЛЬ ВИДЕО В КАРУСЕЛИ
  document.addEventListener('DOMContentLoaded', function () {
    const carousel = document.getElementById('carouselLcol'); // Находим элемент карусели по ID

    // Добавляем обработчик события на смену слайда
    carousel.addEventListener('slid.bs.carousel', function () {
      // Находим все видео внутри карусели и останавливаем их
      const videos = document.querySelectorAll('#carouselLcol .video-slide');
      videos.forEach(video => {
        video.pause();
        video.currentTime = 0; // Перематываем на начало
      });

      // Находим активный слайд и запускаем его видео
      const activeSlide = carousel.querySelector('.carousel-item.active .video-slide');
      if (activeSlide) {
        activeSlide.play();
      }
    });
  });
</script>